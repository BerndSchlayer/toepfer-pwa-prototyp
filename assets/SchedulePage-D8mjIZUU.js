import{c as p,u as N,r as l,j as e,H as j}from"./index-CMvrDxtj.js";/* empty css                   */import{C as F}from"./clock-CA5wggMA.js";const D=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],b=p("chevron-left",D);const H=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M=p("chevron-right",H);const E=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],S=p("map-pin",E);const C=[["path",{d:"M12 13v7a2 2 0 0 0 4 0",key:"rpgb42"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M20.992 13a1 1 0 0 0 .97-1.274 10.284 10.284 0 0 0-19.923 0A1 1 0 0 0 3 13z",key:"124nyo"}]],L=p("umbrella",C),z=[{weekOffset:-1,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 1"},{type:"work",timeFrom:"13:00",timeTo:"E",department:""}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"16:00",department:"Halle 2"}]},{dayOfWeek:"wednesday",entries:[{type:"work",timeFrom:"07:00",timeTo:"15:00",department:"Halle 3"}]},{dayOfWeek:"thursday",entries:[{type:"free"}]},{dayOfWeek:"friday",entries:[{type:"work",timeFrom:"09:00",timeTo:"E",department:""}]}]},{weekOffset:0,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"11:00",department:"Halle 1"},{type:"work",timeFrom:"12:00",timeTo:"16:00",department:"Halle 2"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"16:00",department:""}]},{dayOfWeek:"wednesday",entries:[{type:"vacation"}]},{dayOfWeek:"thursday",entries:[{type:"vacation"}]},{dayOfWeek:"friday",entries:[{type:"vacation"}]}]},{weekOffset:1,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"16:00",department:"Halle 3"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"12:00",department:""},{type:"work",timeFrom:"13:00",timeTo:"15:00",department:"Halle 1"}]},{dayOfWeek:"wednesday",entries:[{type:"work",timeFrom:"07:00",timeTo:"14:00",department:"Halle 2"}]},{dayOfWeek:"thursday",entries:[{type:"work",timeFrom:"09:00",timeTo:"16:00",department:"Halle 1"}]},{dayOfWeek:"friday",entries:[{type:"free"}]},{dayOfWeek:"saturday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 3"}]}]},{weekOffset:2,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"10:00",department:""},{type:"work",timeFrom:"11:00",timeTo:"16:00",department:"Halle 3"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"16:00",department:"Halle 1"}]},{dayOfWeek:"wednesday",entries:[{type:"work",timeFrom:"07:00",timeTo:"15:00",department:"Halle 2"}]},{dayOfWeek:"thursday",entries:[{type:"work",timeFrom:"08:00",timeTo:"13:00",department:""}]},{dayOfWeek:"friday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 3"},{type:"work",timeFrom:"13:00",timeTo:"16:00",department:"Halle 1"}]},{dayOfWeek:"saturday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 3"}]}]}],x={weeks:z},_=r=>{const a=new Date(r.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);const d=new Date(a.getFullYear(),0,4);return{weekNumber:1+Math.round(((a.getTime()-d.getTime())/864e5-3+(d.getDay()+6)%7)/7),year:a.getFullYear()}},$=r=>{const a=new Date,d=a.getDay(),o=new Date(a),i=d===0?-6:1-d;return o.setDate(a.getDate()+i+r*7),o},I=(r,a)=>{const o={monday:0,tuesday:1,wednesday:2,thursday:3,friday:4,saturday:5,sunday:6}[a]||0,i=new Date(r);return i.setDate(r.getDate()+o),i};function P(){const{t:r}=N("app"),[a,d]=l.useState(x.weeks.findIndex(t=>t.weekOffset===0)),o=l.useMemo(()=>x.weeks.map(s=>{const n=$(s.weekOffset),{weekNumber:m,year:c}=_(n),y=s.days.map(u=>{const T=I(n,u.dayOfWeek);return{dayOfWeek:u.dayOfWeek,date:T.toISOString().split("T")[0],entries:u.entries}});return{weekNumber:m,year:c,days:y}}),[]),i=o[a],h=()=>{a>0&&d(a-1)},k=()=>{a<o.length-1&&d(a+1)},W=t=>{const s=new Date(t),n=s.getDate().toString().padStart(2,"0"),m=(s.getMonth()+1).toString().padStart(2,"0"),c=s.getFullYear();return`${n}.${m}.${c}`},f=l.useRef(0),w=l.useRef(0),g=l.useRef(null);l.useEffect(()=>{const t=g.current;if(!t)return;const s=c=>{f.current=c.touches[0].clientX},n=c=>{w.current=c.touches[0].clientX},m=()=>{const y=f.current-w.current;Math.abs(y)>50&&(y>0&&a<o.length-1?k():y<0&&a>0&&h())};return t.addEventListener("touchstart",s,{passive:!0}),t.addEventListener("touchmove",n,{passive:!0}),t.addEventListener("touchend",m,{passive:!0}),()=>{t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",n),t.removeEventListener("touchend",m)}},[a,o.length]);const v=t=>{const s=new Date,n=new Date(t);return n.getDate()===s.getDate()&&n.getMonth()===s.getMonth()&&n.getFullYear()===s.getFullYear()},O=t=>{const s=["schedule-card"];return v(t.date)?s.push("is-today"):t.entries.some(n=>n.type==="vacation")?s.push("is-vacation"):t.entries.every(n=>n.type==="free")&&s.push("is-free"),s.join(" ")};return e.jsxs("div",{className:"page-container",children:[e.jsx("header",{className:"page-header",children:e.jsx("h1",{className:"page-title",children:r("schedule.title")})}),e.jsxs("div",{ref:g,className:"week-navigation",children:[e.jsx("button",{type:"button",onClick:h,disabled:a===0,className:"week-nav-button","aria-label":r("schedule.previousWeek"),children:e.jsx(b,{size:20})}),e.jsxs("span",{className:"week-label",children:[r("schedule.weekLabel")," ",i.weekNumber," /"," ",i.year]}),e.jsx("button",{type:"button",onClick:k,disabled:a===o.length-1,className:"week-nav-button","aria-label":r("schedule.nextWeek"),children:e.jsx(M,{size:20})})]}),e.jsx("div",{className:"schedule-cards",children:i.days.map(t=>e.jsxs("div",{className:O(t),children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-day",children:[e.jsx("span",{className:"day-name-card",children:r(`schedule.days.${t.dayOfWeek}`)}),e.jsx("span",{className:"date-badge",children:W(t.date)})]}),v(t.date)&&e.jsx("span",{className:"today-badge",children:r("schedule.today")})]}),e.jsx("div",{className:"card-content",children:t.entries.map((s,n)=>e.jsx("div",{className:"schedule-entry",children:s.type==="work"?e.jsxs(e.Fragment,{children:[e.jsx(F,{size:18,className:"entry-icon"}),e.jsxs("span",{className:"entry-time",children:[s.timeFrom," - ",s.timeTo]}),e.jsx(S,{size:16,className:"entry-icon"}),e.jsx("span",{className:"entry-location",children:s.department})]}):s.type==="free"?e.jsxs(e.Fragment,{children:[e.jsx(j,{size:18,className:"entry-icon"}),e.jsx("span",{className:"entry-status status-free",children:r("schedule.free")})]}):e.jsxs(e.Fragment,{children:[e.jsx(L,{size:18,className:"entry-icon"}),e.jsx("span",{className:"entry-status status-vacation",children:r("schedule.vacation")})]})},n))})]},t.date))})]})}export{P as default};
