import{c,u as F,r as m,j as e}from"./index-FW3x-YIY.js";/* empty css                   */import{C as D}from"./clock-B0uTw4xg.js";const b=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],H=c("chevron-left",b);const M=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],S=c("chevron-right",M);const E=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],C=c("house",E);const _=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],z=c("map-pin",_);const $=[["path",{d:"M12 13v7a2 2 0 0 0 4 0",key:"rpgb42"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M20.992 13a1 1 0 0 0 .97-1.274 10.284 10.284 0 0 0-19.923 0A1 1 0 0 0 3 13z",key:"124nyo"}]],I=c("umbrella",$),Y=[{weekOffset:-1,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 1"},{type:"work",timeFrom:"13:00",timeTo:"16:00",department:"E"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"16:00",department:"Halle 2"}]},{dayOfWeek:"wednesday",entries:[{type:"work",timeFrom:"07:00",timeTo:"15:00",department:"Halle 3"}]},{dayOfWeek:"thursday",entries:[{type:"free"}]},{dayOfWeek:"friday",entries:[{type:"work",timeFrom:"09:00",timeTo:"14:00",department:"E"}]}]},{weekOffset:0,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"11:00",department:"Halle 1"},{type:"work",timeFrom:"12:00",timeTo:"16:00",department:"Halle 2"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"16:00",department:"E"}]},{dayOfWeek:"wednesday",entries:[{type:"vacation"}]},{dayOfWeek:"thursday",entries:[{type:"vacation"}]},{dayOfWeek:"friday",entries:[{type:"vacation"}]}]},{weekOffset:1,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"16:00",department:"Halle 3"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"12:00",department:"E"},{type:"work",timeFrom:"13:00",timeTo:"15:00",department:"Halle 1"}]},{dayOfWeek:"wednesday",entries:[{type:"work",timeFrom:"07:00",timeTo:"14:00",department:"Halle 2"}]},{dayOfWeek:"thursday",entries:[{type:"work",timeFrom:"09:00",timeTo:"16:00",department:"Halle 1"}]},{dayOfWeek:"friday",entries:[{type:"free"}]},{dayOfWeek:"saturday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 3"}]}]},{weekOffset:2,days:[{dayOfWeek:"monday",entries:[{type:"work",timeFrom:"07:00",timeTo:"10:00",department:"E"},{type:"work",timeFrom:"11:00",timeTo:"16:00",department:"Halle 3"}]},{dayOfWeek:"tuesday",entries:[{type:"work",timeFrom:"08:00",timeTo:"16:00",department:"Halle 1"}]},{dayOfWeek:"wednesday",entries:[{type:"work",timeFrom:"07:00",timeTo:"15:00",department:"Halle 2"}]},{dayOfWeek:"thursday",entries:[{type:"work",timeFrom:"08:00",timeTo:"13:00",department:"E"}]},{dayOfWeek:"friday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 3"},{type:"work",timeFrom:"13:00",timeTo:"16:00",department:"Halle 1"}]},{dayOfWeek:"saturday",entries:[{type:"work",timeFrom:"07:00",timeTo:"12:00",department:"Halle 3"}]}]}],g={weeks:Y},R=n=>{const a=new Date(n.getTime());a.setHours(0,0,0,0),a.setDate(a.getDate()+3-(a.getDay()+6)%7);const d=new Date(a.getFullYear(),0,4);return{weekNumber:1+Math.round(((a.getTime()-d.getTime())/864e5-3+(d.getDay()+6)%7)/7),year:a.getFullYear()}},X=n=>{const a=new Date,d=a.getDay(),o=new Date(a),i=d===0?-6:1-d;return o.setDate(a.getDate()+i+n*7),o},L=(n,a)=>{const o={monday:0,tuesday:1,wednesday:2,thursday:3,friday:4,saturday:5,sunday:6}[a]||0,i=new Date(n);return i.setDate(n.getDate()+o),i};function U(){const{t:n}=F("app"),[a,d]=m.useState(g.weeks.findIndex(s=>s.weekOffset===0)),o=m.useMemo(()=>g.weeks.map(t=>{const r=X(t.weekOffset),{weekNumber:l,year:y}=R(r),j=t.days.map(p=>{const v=L(r,p.dayOfWeek);return{dayOfWeek:p.dayOfWeek,date:v.toISOString().split("T")[0],entries:p.entries}});return{weekNumber:l,year:y,days:j}}),[]),i=o[a],h=()=>{a>0&&d(a-1)},u=()=>{a<o.length-1&&d(a+1)},T=s=>{const t=new Date(s),r=t.getDate().toString().padStart(2,"0"),l=(t.getMonth()+1).toString().padStart(2,"0"),y=t.getFullYear();return`${r}.${l}.${y}`},k=m.useRef(0),f=m.useRef(0),x=s=>{k.current=s.touches[0].clientX},W=s=>{f.current=s.touches[0].clientX},O=()=>{const t=k.current-f.current;Math.abs(t)>50&&(t>0&&a<o.length-1?u():t<0&&a>0&&h())},w=s=>{const t=new Date,r=new Date(s);return r.getDate()===t.getDate()&&r.getMonth()===t.getMonth()&&r.getFullYear()===t.getFullYear()},N=s=>{const t=["schedule-card"];return w(s.date)?t.push("is-today"):s.entries.some(r=>r.type==="vacation")?t.push("is-vacation"):s.entries.every(r=>r.type==="free")&&t.push("is-free"),t.join(" ")};return e.jsxs("div",{className:"page-container",children:[e.jsx("header",{className:"page-header",children:e.jsx("h1",{className:"page-title",children:n("schedule.title")})}),e.jsxs("div",{className:"week-navigation",onTouchStart:x,onTouchMove:W,onTouchEnd:O,children:[e.jsx("button",{type:"button",onClick:h,disabled:a===0,className:"week-nav-button","aria-label":n("schedule.previousWeek"),children:e.jsx(H,{size:20})}),e.jsxs("span",{className:"week-label",children:[n("schedule.weekLabel")," ",i.weekNumber," /"," ",i.year]}),e.jsx("button",{type:"button",onClick:u,disabled:a===o.length-1,className:"week-nav-button","aria-label":n("schedule.nextWeek"),children:e.jsx(S,{size:20})})]}),e.jsx("div",{className:"schedule-cards",children:i.days.map(s=>e.jsxs("div",{className:N(s),children:[e.jsxs("div",{className:"card-header",children:[e.jsxs("div",{className:"card-day",children:[e.jsx("span",{className:"day-name-card",children:n(`schedule.days.${s.dayOfWeek}`)}),e.jsx("span",{className:"date-badge",children:T(s.date)})]}),w(s.date)&&e.jsx("span",{className:"today-badge",children:n("schedule.today")})]}),e.jsx("div",{className:"card-content",children:s.entries.map((t,r)=>e.jsx("div",{className:"schedule-entry",children:t.type==="work"?e.jsxs(e.Fragment,{children:[e.jsx(D,{size:18,className:"entry-icon"}),e.jsxs("span",{className:"entry-time",children:[t.timeFrom," - ",t.timeTo]}),e.jsx(z,{size:16,className:"entry-icon"}),e.jsx("span",{className:"entry-location",children:t.department})]}):t.type==="free"?e.jsxs(e.Fragment,{children:[e.jsx(C,{size:18,className:"entry-icon"}),e.jsx("span",{className:"entry-status status-free",children:n("schedule.free")})]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{size:18,className:"entry-icon"}),e.jsx("span",{className:"entry-status status-vacation",children:n("schedule.vacation")})]})},r))})]},s.date))})]})}export{U as default};
